rewrite_log on;

# TODO: make redirections `permanent` once everything is verified to work well

# FIXME: Check with Tino that the intent is to redirect all "collections" links
# to the root
rewrite ^/en/collections / redirect;

## The rules need to catch anything that starts with the article ID
rewrite ^/en/articles/1336786 /record_validation.html redirect;
rewrite ^/en/articles/1522966 /hxl.html redirect;
rewrite ^/en/articles/1522971 /matrix_response.html redirect;
rewrite ^/en/articles/1559346 /pulling_data_into_excelquery.html redirect;
rewrite ^/en/articles/1562082 /project_summary.html redirect;
rewrite ^/en/articles/1564770 /rating_ranking.html redirect;
rewrite ^/en/articles/1567640 /recovering_previous_formdata.html redirect;
rewrite ^/en/articles/1588980 /training_arabic.html redirect;
rewrite ^/en/articles/1737057 /video_question_type.html redirect;
rewrite ^/en/articles/1817050 /xls_url.html redirect;
rewrite ^/en/articles/1841748 /p_codes.html redirect;
rewrite ^/en/articles/1841861 /pulling_data_into_powerbi.html redirect;
rewrite ^/en/articles/1862886 /lower_file_size.html redirect;
rewrite ^/en/articles/1913851 /advanced_calculate.html redirect;
rewrite ^/en/articles/1947123 /gdpr.html redirect;
rewrite ^/en/articles/1978566 /howto_edit_single_submissions.html redirect;
rewrite ^/en/articles/1992079 /unique_serial_numbers.html redirect;
rewrite ^/en/articles/2029505 /converting_to_spss_and_stata.html redirect;
rewrite ^/en/articles/2566202 /server.html redirect;
rewrite ^/en/articles/2647526 /language_dashboard.html redirect;
rewrite ^/en/articles/2648050 /audit_logging.html redirect;
rewrite ^/en/articles/2789319 /question_library.html redirect;
rewrite ^/en/articles/2801705 /hipaa_compliance.html redirect;
rewrite ^/en/articles/2847676 /creating_custom_reports.html redirect;
rewrite ^/en/articles/3002324 /archiving_projects.html redirect;
rewrite ^/en/articles/3345421 /row_level_permissions.html redirect;
rewrite ^/en/articles/592363 /reset_password.html redirect;
rewrite ^/en/articles/592364 /activation_link.html redirect;
rewrite ^/en/articles/592365 /group_repeat.html redirect;
rewrite ^/en/articles/592366 /skip_logic.html redirect;
rewrite ^/en/articles/592367 /troubleshooting_kobocollect.html redirect;
rewrite ^/en/articles/592368 /validation_criteria.html redirect;
rewrite ^/en/articles/592369 /quick_start.html redirect;
rewrite ^/en/articles/592370 /formbuilder.html redirect;
rewrite ^/en/articles/592371 /collect_gps.html redirect;
rewrite ^/en/articles/592372 /add_logo.html redirect;
rewrite ^/en/articles/592373 /question_options.html redirect;
rewrite ^/en/articles/592374 /number_text_responses.html redirect;
rewrite ^/en/articles/592375 /manual_upload.html redirect;
rewrite ^/en/articles/592376 /managing_permissions.html redirect;
rewrite ^/en/articles/592377 /data-collection-tools.html redirect;
rewrite ^/en/articles/592378 /kobo_your_servers.html redirect;
rewrite ^/en/articles/592380 /deploy_form_new_project.html redirect;
rewrite ^/en/articles/592382 /form_meta.html redirect;
rewrite ^/en/articles/592384 /troubleshooting_webforms.html redirect;
rewrite ^/en/articles/592386 /data-offline.html redirect;
rewrite ^/en/articles/592387 /excel_analyzer_guide.html redirect;
rewrite ^/en/articles/592388 /photo_download.html redirect;
rewrite ^/en/articles/592390 /devices_for_data_collection.html redirect;
rewrite ^/en/articles/592392 /software_architecture.html redirect;
rewrite ^/en/articles/592393 /kobo_local_computer.html redirect;
rewrite ^/en/articles/592394 /language_xls.html redirect;
rewrite ^/en/articles/592395 /kobocollect-android.html redirect;
rewrite ^/en/articles/592398 /rest_services.html redirect;
rewrite ^/en/articles/592411 /stuck_in_pending.html redirect;
rewrite ^/en/articles/592415 /encrypting_forms.html redirect;
rewrite ^/en/articles/592416 /alternative_enketo.html redirect;
rewrite ^/en/articles/592417 /recording-interviews.html redirect;
rewrite ^/en/articles/592418 /question_types.html redirect;
rewrite ^/en/articles/592419 /custom_format_web.html redirect;
rewrite ^/en/articles/592421 /responses_inside_question.html redirect;
rewrite ^/en/articles/592422 /cascading_select.html redirect;
rewrite ^/en/articles/592423 /user_specified_other.html redirect;
rewrite ^/en/articles/592424 /media.html redirect;
rewrite ^/en/articles/592425 /calculate_questions.html redirect;
rewrite ^/en/articles/592430 /edit_forms_excel.html redirect;
rewrite ^/en/articles/592431 /new_project.html redirect;
rewrite ^/en/articles/592433 /is_my_data_safe.html redirect;
rewrite ^/en/articles/592439 /delete_project.html redirect;
rewrite ^/en/articles/592440 /restrict_responses.html redirect;
rewrite ^/en/articles/592441 /data_through_webforms.html redirect;
rewrite ^/en/articles/592442 /export_download.html redirect;
rewrite ^/en/articles/592443 /export_gps.html redirect;
rewrite ^/en/articles/751575 /welcome.html redirect;
rewrite ^/en/articles/751708 /enketo.html redirect;
rewrite ^/en/articles/961231 /collecting_signatures.html redirect;
rewrite ^/en/articles/978826 /pull_data_kobotoolbox.html redirect;
